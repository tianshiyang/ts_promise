<!DOCTYPE html>
<html>
<header>
  <title>手写ts+promise</title>
  <!-- <script type="text/javascript" src="../js/index.js"></script> -->
  <!-- <script type="text/javascript" src="../js/MyPromise.js"></script>   -->
  <script type="text/javascript" src="../js/index.js"></script>
</header>

<body>
  <div>
    <h3>手写ts+promise</h3>
  </div>
  <script>
    let p = new MyPromise((resolve, reject) => {
      setTimeout(() => {
        resolve(1)
      })
    })
    p.then(res => {
      return new MyPromise((resolve, reject) => {
        console.log(res) // 1
        setTimeout(() => {
          resolve(res * 2)
        })
      })
    }).then(item => {
      return new MyPromise((resolve, reject) => {
        console.log(item) // 2
        setTimeout(() => {
          resolve(item * 2)
        })
      })
    }).then(res => {
      console.log(res) // 4
    })
  </script>
</body>

</html>